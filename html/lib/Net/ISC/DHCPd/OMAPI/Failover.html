<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Net::ISC::DHCPd::OMAPI::Failover - OMAPI failover state class</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#attributes">ATTRIBUTES</a></li>
	<ul>

		<li><a href="#name">name</a></li>
		<li><a href="#partner_address">partner_address</a></li>
		<li><a href="#local_address">local_address</a></li>
		<li><a href="#partner_port">partner_port</a></li>
		<li><a href="#local_port">local_port</a></li>
		<li><a href="#max_outstanding_updates">max_outstanding_updates</a></li>
		<li><a href="#mclt">mclt</a></li>
		<li><a href="#load_balance_mac_secs">load_balance_mac_secs</a></li>
		<li><a href="#load_balance_hba">load_balance_hba</a></li>
		<li><a href="#local_state">local_state</a></li>
		<li><a href="#partner_state">partner_state</a></li>
		<li><a href="#local_stos">local_stos</a></li>
		<li><a href="#partner_stos">partner_stos</a></li>
		<li><a href="#hierarchy">hierarchy</a></li>
		<li><a href="#last_packet_sent">last_packet_sent</a></li>
		<li><a href="#last_timestamp_received">last_timestamp_received</a></li>
		<li><a href="#skew">skew</a></li>
		<li><a href="#max_response_delay">max_response_delay</a></li>
		<li><a href="#cur_unacked_updates">cur_unacked_updates</a></li>
	</ul>

	<li><a href="#methods">METHODS</a></li>
	<ul>

		<li><a href="#is_primary">is_primary</a></li>
	</ul>

	<li><a href="#acknowledgements">ACKNOWLEDGEMENTS</a></li>
	<li><a href="#copyright___license">COPYRIGHT &amp; LICENSE</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Net::ISC::DHCPd::OMAPI::Failover - OMAPI failover state class</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="/home/jhthorsen/git/net-isc-dhcpd/html/lib/Net/ISC/DHCPd/OMAPI/Actions.html">the Net::ISC::DHCPd::OMAPI::Actions manpage</a>.
<a href="/home/jhthorsen/git/net-isc-dhcpd/html/lib/Net/ISC/DHCPd/OMAPI/Meta/Attribute.html">the Net::ISC::DHCPd::OMAPI::Meta::Attribute manpage</a>.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 use Net::ISC::DHCPd::OMAPI;</pre>
<pre>
 $omapi = Net::ISC::DHCPd::OMAPI-&gt;new(...);
 $omapi-&gt;connect
 $failover = $omapi-&gt;new_object(&quot;failover&quot;, { $attr =&gt; $value });
 $failover-&gt;$attr($value); # same as in constructor
 $failover-&gt;read; # retrieve server information
 $failover-&gt;set($attr =&gt; $value); # alter an update attr
 $failover-&gt;write; # write to server</pre>
<p>
</p>
<hr />
<h1><a name="attributes">ATTRIBUTES</a></h1>
<p>
</p>
<h2><a name="name">name</a></h2>
<pre>
 $self-&gt;name($name);
 $str = $self-&gt;name;</pre>
<p>Indicates the name of the failover peer relationship, as described in
the server's dhcpd.conf file.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="partner_address">partner_address</a></h2>
<pre>
 $self-&gt;partner_address($str);
 $str = $self-&gt;partner_address;</pre>
<p>Indicates the failover partner's IP address.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="local_address">local_address</a></h2>
<pre>
 $self-&gt;local_address($str);
 $str = $self-&gt;local_address;</pre>
<p>Indicates the IP address that is being used by the DHCP server for this
failover pair.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="partner_port">partner_port</a></h2>
<pre>
 $self-&gt;partner_port($int);
 $int = $self-&gt;partner_port;</pre>
<p>Indicates the TCP port on which the failover partner is  listening for
failover protocol connections.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="local_port">local_port</a></h2>
<pre>
 $self-&gt;local_port($int);
 $int = $self-&gt;local_port;</pre>
<p>Indicates the TCP port on which the DHCP server is listening for failover
protocol connections for this failover pair.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="max_outstanding_updates">max_outstanding_updates</a></h2>
<pre>
 $self-&gt;max_outstanding_updates($int);
 $int = $self-&gt;max_outstanding_updates;</pre>
<p>Indicates the number of updates that can be outstanding and unacknowledged
at any given time, in this failover relationship.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="mclt">mclt</a></h2>
<pre>
 $self-&gt;mclt($int);
 $int = $self-&gt;mclt;</pre>
<p>Indicates the maximum client lead time in this failover relationship.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="load_balance_mac_secs">load_balance_mac_secs</a></h2>
<pre>
 $self-&gt;load_balance_mac_secs($int);
 $int = $self-&gt;load_balance_mac_secs;</pre>
<p>Indicates the maximum value for the secs field in a client request before
load balancing is bypassed.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="load_balance_hba">load_balance_hba</a></h2>
<pre>
 $self-&gt;load_balance_hba($str);
 $str = $self-&gt;load_balance_hba;</pre>
<p>Indicates the load balancing hash bucket array for this failover relationship.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="local_state">local_state</a></h2>
<pre>
 $self-&gt;local_state($int);
 $self-&gt;local_state($str);
 $str = $self-&gt;local_state;</pre>
<p>Indicates the present state of the DHCP server in this failover relationship.
Possible values for state are:</p>
<pre>
 1  - partner down
 2  - normal
 3  - communications interrupted
 4  - resolution interrupted
 5  - potential conflict
 6  - recover
 7  - recover done
 8  - shutdown
 9  - paused
 10 - startup
 11 - recover wait</pre>
<p>In  general it is not a good idea to make changes to this state. However,
in the case that the failover partner is known to be down, it can be
useful to set the DHCP server's failover state to partner down. At this
point the DHCP server will take over service of the failover partner's
leases as soon as possible, and will give out normal leases, not leases
that are restricted by MCLT. If you do put the DHCP server into the
partner-down when the other DHCP server is not in the partner-down state,
but is not reachable, IP address  assignment conflicts are possible, even
likely. Once a server has been put into partner-down mode, its failover
partner must not be brought back online until communication is possible
between the two servers.</p>
<p>Actions: examine, modify.</p>
<p>
</p>
<h2><a name="partner_state">partner_state</a></h2>
<pre>
 $self-&gt;partner_state($int);
 $self-&gt;partner_state($str);
 $str = $self-&gt;partner_state;</pre>
<p>Indicates the present state of the failover partner.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="local_stos">local_stos</a></h2>
<pre>
 $self-&gt;local_stos($int);
 $int = $self-&gt;local_stos;</pre>
<p>Indicates the time at which the DHCP server entered its present state
in this failover relationship.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="partner_stos">partner_stos</a></h2>
<pre>
 $self-&gt;partner_stos($str);
 $str = $self-&gt;partner_stos;</pre>
<p>Indicates the time at which the failover partner entered its present state.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="hierarchy">hierarchy</a></h2>
<pre>
 $self-&gt;hierarchy($int);
 $int = $self-&gt;hierarchy;</pre>
<p>Indicates whether the DHCP server is primary (0) or secondary (1)
in this failover relationship.</p>
<p>Actions: examine.</p>
<p>See <a href="#is_primary">is_primary</a>.</p>
<p>
</p>
<h2><a name="last_packet_sent">last_packet_sent</a></h2>
<pre>
 $self-&gt;last_packet_sent($time);
 $time = $self-&gt;last_packet_sent;</pre>
<p>Indicates the time at which the most recent failover packet was sent by
this DHCP server to its failover partner.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="last_timestamp_received">last_timestamp_received</a></h2>
<pre>
 $self-&gt;last_timestamp_received($str);
 $str = $self-&gt;last_timestamp_received;</pre>
<p>Indicates the timestamp that was on the failover message most recently
received from the failover partner.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="skew">skew</a></h2>
<pre>
 $self-&gt;skew($int);
 $int = $self-&gt;skew;</pre>
<p>Indicates the skew between the failover partner's clock and this DHCP
server's clock</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="max_response_delay">max_response_delay</a></h2>
<pre>
 $self-&gt;max_response_delay($int);
 $int = $self-&gt;max_response_delay;</pre>
<p>Indicates the time in seconds after  which, if no message is received
from the failover partner, the partner is assumed to be out of communication.</p>
<p>Actions: examine.</p>
<p>
</p>
<h2><a name="cur_unacked_updates">cur_unacked_updates</a></h2>
<pre>
 $self-&gt;cur_unacked_updates($int);
 $int = $self-&gt;cur_unacked_updates;</pre>
<p>Indicates the number of update messages that have been received from
the failover partner but not yet processed.</p>
<p>Actions: examine.</p>
<p>
</p>
<hr />
<h1><a name="methods">METHODS</a></h1>
<p>
</p>
<h2><a name="is_primary">is_primary</a></h2>
<pre>
 $bool = $self-&gt;is_primary;</pre>
<p>
</p>
<hr />
<h1><a name="acknowledgements">ACKNOWLEDGEMENTS</a></h1>
<p>Most of the documentation is taken from <code>dhcpd(8)</code>.</p>
<p>
</p>
<hr />
<h1><a name="copyright___license">COPYRIGHT &amp; LICENSE</a></h1>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>See <a href="/home/jhthorsen/git/net-isc-dhcpd/html/lib/Net/ISC/DHCPd.html">the Net::ISC::DHCPd manpage</a>.</p>

</body>

</html>
